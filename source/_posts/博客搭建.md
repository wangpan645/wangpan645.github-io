---
title: 博客搭建
date: 2018-04-13 14:42:51
tags: blog
category: 建站
---
# 1.安装 [Git](https://git-scm.com/download/win)

 由于众所周知的原因，从上面的链接下载git for windows最好挂上一个代理，否则下载速度十分缓慢。也可以参考 [这个页面](https://github.com/waylau/git-for-win)，收录了存储于百度云的下载地址。

<!-- more -->
# 2.安装 [node.js](http://nodejs.org/)

安装时，请勾选 Add to PATH 选项。
另:可以使用第一步中已经安装好的**Git Bash**操作。
步骤：
（1）`curl https://raw.github.com/creationix/nvm/master/install.sh | sh`    或
    `wget -qO- https://raw.github.com/creationix/nvm/master/install.sh | sh
`
（2）`nvm install stable
`

# 3.安装 hexo

先创建一个文件夹（用来存放所有blog的东西），然后进入该文件夹下，
执行安装命令：`npm install -g hexo-cli
`
初始化命令：`hexo init`
 再执行:`npm install
`

# 4.生成SSH并添加到GitHub

创建一个repo，名称为：`yourname.github.io`
回到 gitbash 中，配置 github 账户信息：

    git config --global user.name "YOUR NAME"
    git config --global user.email "YOUR EMAIL ADDRESS"
    
创建SSH

在 gitbash 中输入：`ssh-keygen -t rsa -C "youremail@example.com`，生成ssh。
然后输入：`cd ~/.ssh` ，    `cat id_rsa.pub`
将上面获取的ssh放到github中,在GitHub中的操作为：依次点击自己的头像，Settings，SSH and GPG keys，New SSH key 或者 Add SSH key
在gitbash中验证是否添加成功：`ssh -T git@github.com`
# 5.hexo部署

在` _config.yml `中修改参数，如下所示：

    deploy:
      type: git
      repo: https://github.com/your_name/your_name.github.io.git
      branch: master

注：hexo 3.0把服务器独立成个别模块，需要单独安装：`npm i hexo-server`。

打开浏览器输入：http://localhost:4000，可以看到，本地网站搭建成功。

# 6.上传到GitHub

安装 `hexo-deployer-git` 插件：
    `npm install hexo-deployer-git --save`
在终端执行 `hexo deploy` 命令，就可以把我们的网站部署到 Github 服务器上。在第一次部署的时候，Github 还会跳出来一个小窗口，让你输入 Github 帐号和密码，输入即可。根据不少网友的说法以及我之前搭站的经验，等待 15 分钟的样子，就可以通过 your_name.github.io （your_name 是你的 Github 用户名）来访问自己的网站了。如果等了很久还没动静，或者想立刻看到效果，该怎么破？别急，请看下一小节。

## 6.1 部署了，没动静怎么办？

博客第一次创建，即使 deploy 成功了，但仍然不会立刻可以访问，还需要等待 15 分钟以上。如果15分钟后还是无反应，可如下操作。

Step 1: 到your_name.github.io项目的 Github 主页，上方最右侧有一个 Settings，点击 Settings，拉到 GitHub Pages，有一个Launch automatic page generator，点击后，再点击 Continue to layouts，最后点击 Publish page，马上就可以看到 your_name.github.io 可以访问了，但样式是是刚刚默认的，跟我们本地的不一样，内容也没有我们自己上传的内容。
Step 2: 再试着 hexo deploy 一次，如果页面正常了那就大功告成了，假使遇到 Permission Denied，再 hexo deploy 一次就好。

至此，个人博客搭建完成。

